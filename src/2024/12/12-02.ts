import {
    allDirections,
    type Coordinate,
    type Coordinates, type CoordinateValue, distinct,
    forEach,
    getCordinate,
    getNeighbourCordinates, MultiMap,
    sameCoordinate
} from '../../utils';

let s = `YYYYYYYYYYYYYYYYYYYYYYYGGGGGGGGGGGSSSSSSSSSSSSSSSSSRRRRRRRZXXXXXUUUUUUUSSRRRRRRRRRRRRRRRRRRRRRRRVVVVVSSSSSSSOOOOOOOOOOOOOOOBBPPPPPPPPPJJJJJJ
YYYDDDYYYYYYYYYYYYYYYYGGGGGGGGGGGXXSSSSSSSSSSSSSSSRRRRRRRRZXXXXUUUUUUUUUURRRRRRRRRRRRRRRRRRRRRRRRVVVGSSSSSSSOOOOOOOOOOOHOOOOPPPPPPPPPJJJJJJJ
YYYDDDDYDYYYYYYYYYYGGYGGGGGGGGGGGXSSSSSSSSSSSSSSSSZRRRZZZZZZXXXUUUUUUUUUUQRRRRRRRRRRRRRRRRRRRRRRRVDGGSSTTTTSOOOOOOOOOOOHHOOOPPPPPPPPPPJJJJJJ
YYYYYDDDDDDDDYYYYYYYGGGGGGGGGGGGGSWSSSSSSSSSSSSSSSZZZZZZZZZZZZZUUUUUUUUUUURRRRRRRRRRRRRRRRRRRRRRGGGGGSTTTTTTOOHOAOOOOOOHHHHHVVPPPPPPQQYYYYJJ
YIIDYYDDDDDDDYYYYYYYGGGGGGGGGGGGSSSSSSSSSSSNNNSNNZZZMZZZZZZZZZZUUUUUUUUUUURRRRRRRRRRRRRRRRRRRRGGGGGGGGTTTTHHHHHOAOAOOOOHNNNHVVPPPPPYQYYYYYYJ
IIIDDYYDDDDDYYYYYYYYYGGGGGGGGGGSSSSSSSSSSSSNNNNNNNZZZZZZZZZZZZUUUUUUUUUUUUUUURRRRRRRRRRRRRRRRRGGGGGGGGTTTTTHHHHOAAAOOOHHHHHHHPPPYYYYYYYYYYYY
IIIDDYDDDDDDDDYYYYYYYYGGGGGGGGGSSSSSSSSSSSNNNNNNNNNNNZZZZZZZZZUUUUUUUUUUUUUUUURRWRRRRRRRRUUGRGGGGGGGGGTTTTTHHHAAAAAOOOHHHHHHHEPPYYYYYYYYYYYY
IIIDDDDDDDDDDYYYYYYYGGGGGGGGGGGGSFSSSSSSSSSNNNNNNNNNNNZUZZZZZZZZUUUUUUUUUUUUUUYYRRRRRRRUUUUGRGGGGGGGGYTTTTTHHHHHHAAOOOHHHHHHHEEYYYYYYYYYYYYY
IIDDDDDDDDDDDYYYYYYGGGGGGGGGGGGGZFSSSSSSSSSSSSNNNNNNNNNNZZZMZZZUUUUUZZZZZZZZZZYYYYRRRRRUUUGGGGGGGGGGGTTTTHHHHHHHHAOOHHHHHHHHHEAAYYYYYYYYYYYY
IIDIIDDDDDDDDYYYYYYGGGGGGGGGGGGTFFFFSSSSSSSSSSNNNNNNNNNNZZMMZZZUUUUUZZZZZZZZZZYYYYYUUUUUUUGGGGGGGGGGHHHTTTHHOOOOOOOOOHHHHHHHHEYYYYYYYYYYYYYY
IIIIIDDDDDDDDYYYYYYYGGGGGGGGGGGGGFFFSLLSSSSSBBNCNNNNNNNNNZMZZZUUUUUUZZZZZZZZZZAAYYYAUUUUUUUUGGGGGGGGHHHHHTHHOOOORROOHHHHNHHEEEEEEYYYYYYYYYYY
IIIIIDDDDDDYDYYYYCYGGUUUGGGGGGGGGFFFFLLLFFPSSSCCCNNNNNNINNMZZPUTTTTUZZZZZZZZZZAAAAAAUUUUUUUGGGGGGGGGGBHHHRHHHHHRRROHHHHNNNNNNEEEEEEYYYYYYYYY
IIIIIIDDDDDYYYYYCCCCCCCGGGGGFFFFFFFFFFFFFFPPSCCCCNNNNNNINMDDDDUDTTTTZZZZZZZZZZAAAAXXUUUUUUUUGGGGGGBBBBHHHRRRRRRRRRRFHHNNNNNNNNEEEEEEEYFYYYYY
IIIIIIIDDDDDYYYCCRCCCCCCOOOFFFFFFFFFFFFFFFFCCCCCCCENNWWIDDDDDDDDTTTZZZZZZZZZZZAAAAXXUUUUUUUUUUGGGBOBBBBRRRRRRRRRRRFFFFNNNNNNNNNEEEEEEXYYYYQQ
IIIIDDDDDDDDDDWQCCCCCCCCCCCFFFFFFFFFFFFFFFFCCCCCCCCNJWWIDDDDDDDDTTTZZZZZZZZZZZAAAAXXUXUTTTUUUUUBNBBBBBRRRRRRRRRRRRRFFNNNNNNNNNNNCEEEEEYQQYQQ
IIIIIDDDDDDSWWWWCCCCCCCCCCCFFFFFFFFFFFFFFCCCCCCCCCCRWWWWDDDDDDDDDDVZZZZZZZZZZZAAAAXXUUUATTTUUTUBNBBBBRRRRRRRRRRRRRPNNNNNNNNNNNNNCEEEEYYYQQQQ
IIIIIIDDSSDSWWWWCCCCCCCCCCCFFFFFFFFFFFFFFCCCCCCCCCCCWWWUDDDDDDDDVVVVZZZZZZZZZZAAAAXXUUUTTTTTTTTBBBBBBBRRRRRRRRRPPPPNNNNNNNNNNNNCCCCEEEQQQYQQ
IIIIIIDDSSSSWWCCCCCCCCCCCCFFFFFFFFFFFGCCCCCCCCCCCCCWWWWWDDDDDDVVVVVVZZZZZZZZZZAAAXXXXXTTTTTTTTTBBBBBBBBRRRRORRRRPPNNNNNNNNNNNNNRCCSCEQQQQYQQ
IIIIIIDSSSSSSSSCCCCCCCCCCCFFFFFFFFFFGGGGCCCCCCCCCCCWWWVVDDDDDDDVVVVVWNNNZZZZZNAAJJJJXTTTTTTHHTTBBBBBBBBRRRRRRRRRPPPNNNNNNNNNNNRRCCCCQQQQYYQQ
IIIIIISSSSSSSSCCCCCCCCCCCZFUFFFFFFFFGGGGGCCCCCCCCCCWWWWVVVVVDDVVVVVVVNNNZZZZZNNNJJJJJTTTTTHHHBBBBBBBBBBRBRTTRRVVRPPNNNNNNNNNNPCCCCCCQQQYYYYQ
IIIIIASSSSSSSSCCCCCCCCCZZZZFFFNFNNFFGGGGGCCCCYCCCCCWWWVVVVVVVDDVVVVVVSSNZZZZZNNNJJJJJJJJTHHHHBBBBBBBBBBBBRTTRRRRRRPPNBNNNNNNNNCCCCCCQQQQQYYQ
IAIAAASSSSSSSRRCCCCCCCCZZZZNNNNNNNCCGGGCCCCCCYCCCOOOOVVVVVVVVDVVVVVVVVSNZZZZZNNNNJJJJJJPTHHHHBBBBBBBBBBBBBBBVEREEEEEBBNNNNNNNCCCCCCQQQQQQYYQ
AAAAAAASSSSSSSCCCCCCCCCCCZNNNNNNNCCCCCCCCCCCCYCOOOOOOOOOVVVVVVVVVVVVVESNZZZZZNNNJJJJJJJJHHHHHBBBBBBBEBBBBBBBVEEEEEEEGGGGYGGNCCCCCCCCCQCQQYQQ
SAAAAAAAAASSSSSCCCCCCCCKCNNNNNNNNCCCCCCCCCYYYYCOOOOOOOOOVVVVVVVVVVVEEEECZZZZZNNJJJJJJJJJJJHHHBBBBBBBBBBBBBBEEEEEEEEEEGGGGGGGGCCCCCCCCCCCQQQQ
AAAAAAAAAAASAIACCCCCCCKKKKNNNNNNNCCCCCCCCCYYYYYOOOOOOOOOVVVVVVVVVVVEEEEEZZZZZJNJJJJJJJJJJJHHHHBAABBBBBBBBBBEEEEEEEEEGGGGGGGGGCCCCCCCCCCCQQQQ
AKAAAAAAAAAAAAAYYCYCYCKTTTTNNTNNXXXCCCCCCYYYYYYOOOOOOOOOVVVVVVVVVEEEEEEEZZZZZJJJJJJJJJJJHHHHHHHBBBBBBBBBBBBBEEEEEEEEEGGGGGGGGCCCCCCCCCCCQQQQ
AAAAAAAAOOAAAAAAYYYYYCCTTTTTTTTXXXXXCYYCVYYYYYYOOOOWWWWWWWWVVVCCCCCEEEEEEJJJJJJJJJJJJJJJHHHHHHHBBBBBBBBBBBBBEEEEEEEEEGGGGGGGGGGCCCCCRRRCQQQQ
NANNAAAAOAAAAAAAYYYYYTMTTTTTTTTTXXXXXYYYYYYYYYYOOOOWWWWWWWWCCCCCCCCEEEEEETJJJJJJJJJJJJEHHHHHHHHHHBBBBBBBBBBEEEEEEEEEEGGGGGGGGGGGCCRRRRRCQQQQ
NNNNAAPPPPPAAAAAYYYYYTTTTTTTTTXXXXXXXXYYYYYYYYYOOOOWWWWWWWWCCCCCCCCCEEEETTJJTJJJJJEJJQEEEHHHHHHHBBBBBBBBBBBEEEEEEEEGGGGGGGGGGGGGBCCRRRJJJQQJ
NNNNAAPPPPPAAAAAYYYYYTTTTTTTTXXXXXXXXKKKDYYYYYYCCOOWWWWWWWWCCCCCCCCCCCCCCTTTTJJJJJEEEEEEEHHHHHHHHBBBBBBBBBBEEEEEEEEEGGGGGGGGGGGBBCCCRJJJJJJJ
NNNNNAPPPPPAAAAAYYYYTTTTTTTTTTXXXXXYKKKKYYYYYYYCCCCWWWWWWWWCCCCCCCCCCCCCTTTTTTTTJJEEEEEEEEEHHHHHBFBBBBBBBBBBEEEEEEEEEEEGGGGGGCCJJJJJJJJJJJJS
NNNNBBPPPPPAAAAPPYYYTTTTTTTTTTXXXXYYYYYKYYYYYYCCCCCWWWWWWWWWWWWCCCCCCCCCTTTTTTTTTTZEEEEEEHHHHWWHBBBBBBBBBBBBEEEEEEEEEEOOGGGGGGJJJJJJJJJJJJJS
NNNNNPPPPPPPAPPPPYYYTTTTTTTTTTXXXXXXXYYYYYYYYYCCCCOWWWWWWWWWWWWCCCCCCCCCTTTTTTTTTZZEEEEEEHWWWWWHBBBBBBBBBBBBKEEEEEEEEEOGGGGGGGGJJJJJJJJJJJJJ
NNNNNNPPPPPPAPPPPPYYYYTTTTTTTTXXXXXXXYYYYYYYYCCCCCOWWWWWWWWWWWWCACCCCCCCCTTTTTTTTEEEEEEEEEPPPWWHHHBHBBBBOOOOEEEEEEEEEOOGGGGYYYYJJJJJJJJJJJJJ
NNNNNNPPPPPPPPPPPYYYYYTTTTTTTTTMMMXMXXYYYYYYYCCYCCOWWWWWWWWWWWAAACCCQTCCTTTTTTTTTJEEEEEEQWWWWWWWHHHHHHBBOEOOSEEEEEEEEESSYYYYYYYJJJJJJJJJJJJJ
NNNNNNNNPPPPPPPPPYYYYYETTTTTTTTMMKMMMMYYYYYYYYYYCCOWWWWWWWWWWWAAACLLTTCTTTTTTTTTJJJJEEEEEWWWWWWWWHHHEEEEEEEOSSSEEEEEEESSSYYYYYYYJJJJJJJJJLLJ
NNNNYNPPPPPPPPPPPPYYEEEETTTTTTMMMMMMMMYZYYYYYGGGCCOOOOWWWWWWWWAAAATTTTTTTTTBTTTTTJJJJEWWWWWWWWWWWHHHHEDGEEEESSEEEESSESSSFSYYYYYYJJJJJJJJJLZZ
NANNYYYPPPPPPYYYYPYYEEETTTTTTTMMMMMMOOYZYYYYYGGGCCOOOOOWWWWWWWKAAATTTTTTTBBBBBBTTJJJJEWWWWWWWWWWHHHHHGGGGEESSSSSESSSSSSSSSSYYYYYYHJHHJJJJLLL
NANNYYYPPPPPPPYYYYYKEEEETTTTTMMMOMMOOYYYYYYYYKKKKCOOOOOWWWWWWWKAATTTTTTBBBBBBBBBJJJTJWWWWWWWWWWWHHHHHGGGGGGASSSSSSSSSSSSSSYYYYYYHHHHHJJJLLLL
VVEVYYYYYPPPPPYYYYYKEEEETTTTTTTMOOOOOOYFYYYYYKKKKKKKKKKWWWWWWWKKATTTTTTTBBBBBBBBJJJTJWWWWWWWWRRRRRRHHGGGGGGGSSSSSSSSSSSSSSYYYYYYHHHHJJJJLLJL
VVVVYYYYYYPYYFYYKKKKEKKTTTTTTTLMMOOOOOOYYYYYDDKKKKKKKKKWWWWWWWKKAAAZTTQQBBBBBBBBJJJTTLLLLLLLLLLRRRRHHGGGGGGGGGGSSSSSSSSSSSYYYYHYHHHHJJJJJJJJ
VVVVVYYYYYYYYFFYKKKKKKKKKKZZTGMMMMOOOOOCYCCYDDKKKKKKKKKWWWWWWWKAAZZZTTQQBBBBBBBBBBTTTLLLLLLLLLLRRRRGGGGGGGGGGGGSSSSSSSSSSSYYHHHHHHHHJJJJJFJJ
VVVVYYYYYYYFYFFFKKKKKKKKZZZWGGGMMMOOONNCCCCCDKKKKKKKKKKKKKKKAAAAZZZZTTTQBBBBBBNBBTTTTLLLLLLLLLLRRRRGGGGGGGGGGGGSSSSSSSSSFSSSHHHHHHHHHFFFJFFJ
VVVVVVFFYYFFFFFFYYKKKKKEEEZWWGGMMNNNNNFFCCCCDKKKKKKKKKKKKKKKKAAZZZZZZTQQBBBBBNNBBTTTTLLLLLLLLLLRRRRRGGGGGGGGGGGSSSSSSSFFFFSGHHHHHHHHHFFFFFFJ
VVVVVFFFFFFFFFFFKKKKKKKEEEEEEEEEENNNNNFNNCVVVVVVKKKKKKKCCKKKKKAZZZZZZZQBBBBBBNNBTTTTTLLLLLLLLLLRRRRRGGGGGGGGGGSSSSSSLFFFFFFGHHHHHHHHHHFFFFFF
VVVVVFFFFFFFFFFFKKKKKKKEEEEEEEEEENNNNNNNNVVVVVVVVVKYCCKCCCCZKSZZZZZZZZZTTBBBBBBTTTTTTLLLLLLLLLLRRRRRAGGGGGGGGGSSLLLLLFFFFFFFFHHHHHHHHHHFFFFF
VVVVVFFFFFFFFFFKKKKKKKKEEEEEEEEEENNNNVNNNVVVVVVVVVKKKCCCCCZZZZZZZZZZZZZZTBBBTTTTTTTTTLLLLLLLLLLRRRRYNGNNGGGGGSSLLLLLLLFFFFFFFFHHHHHHHHFFFFFF
VVVVVVFFFFFFFFFKKKLLLLLLEEEEEEEEENNNNVNVVVQVVVVVVVCCCCCCCCZZZZZZZZZZZZZZBBBTTTTTTTTTTLLLLLLLLLLRMMNNNNNNNGGGGGGLLLLLLLLLFFFFFFHHHHHHHHFFFFFZ
VVVVVVFFFFFFFFFKKELLLLLLEEEEEEEEEWWNNVVVQQQQQVVCVVCCCCCCZCZZZZZZZZZZZZZZPBBZTTTTTTTTPLLLLLLLLLLMMNNNNNNNNGGGGGGGGGGLLLLLLLFFFFFHHHHHHHFFFFZZ
VVVVVVFFFFFFFFNNKELLLLLLEEEEEEEEEWWWNVVVQQQQQVVCFFCCCCCCZZZZZZZZZZZZZZPPNZZZZTTTTTTTTLLLLLLLLLLMMMNNNNNNNNGGGGGGGGGLLLLLLLFFOAFFHZHZZHFFFFZZ
VVVVVFFFFFFFFFNNZELLLLLLEEEEEEEEEWFFVVVVQQQVVVCCCCCCCCCCZZZZZZZZZZZZZZGPNZZZZTTTTTTTTTPPPYYYYMMMMNNNNNNNNNNNNGGGGLLLLLLLLLFAAAFFHZZZZZZZFZZZ
VVVVVFFFFFFFNNNLLLLLLLLLLEEEEEEEEFFFVVVVVVQKKVCCCCCCCCCCZZZZZZZZZZZZZZGNNZZZZTTTTTTTTYOPMMYYYYMMMNNNNNNMNMMMMMMGGLLLLLLLLLAAAAAAAAZZZZZZZZZZ
VVVFFFFFFFFFNNNLLLLLLLLLLEEEEEWWWFFVVVVVVVQQKVCKCKCCCCCCCZIIZIZZZZFZZGGGNGZZTTTTSTTTTOOOMYYYYYMMMNNMNNMMMMMMMMMLLLLLLLLLLLAAAAAAAAAZAZZZZZZZ
VVVVVVFFFFFNINNLLLLLLLLLLEEEEEWWDFFFFTTVTTTTKKKKKKCCCCCCCCIIIAZZZZFFZGGGGGZZTTTSSSTTTOOMMYYYMYMMMNMMNNNMMMMMMMWOLLLLLLLLLLAAAAAAAAAAAZAZZZZZ
VVVVVVFFJJJNNNNLLLLLLLLLLLEEEEWDDFFFTTTTTTCTKKKKKCCCCCCCCCCAIAAZZZFFFFFFFGTTTTOSOOOQOOOOMMMYMYMMMMMMMMMMMMMIIMWWLWWWWWWLLAAAAAAAAAAAAAAZZZZZ
VVVVVVVFJLLLLLLLLLLLLLLLLLEWWWWDDFFFTTTTTTCTKKKKKKCDBCCCCAAAAAAAAFFFFFEFFFTTTTOOOOOOOOOOMMMMMMMMMMMMNMMMMMMMIIIWWWWWWWLLAAAAAAAAAAAAAAAZZZZZ
VVVVVVVFVLLLLLLLLLLLLLLLLLEWWWWWDFXXTTTTTTTKKKKKKDDDDCCCCCBBAAAFFFFFFEEEEFFFMCOOOOOOOOOOOMMMMMMLLLNNNNNNNNRNIIIWWWWWWWWAAAAAAAAAAAAAHAWWZZZZ
VVVVVVVVVLLLLLLLLLLLLELLLEEWWWWWWYXYTTTTTTTTKKKKKKDDDDDCDBBAAAAFFFFFEEEZEFFFMOOOOOOOOOOOOMMMMKKLLNNNSNNNNNNNNNNWWWWWWWWAAAAAAAAAAAAAAAWWZZWZ
VVVVVVVVXLLLLLLLLLLLLELLLEENWWYYYYYYTSTTTTTKKKKKKHIDDDDDDBAAAAAAFAFFEEEEYMMMMMNNOOOOOOOOOXMMKKKLLLNNNNNNNNNNNNWWWWWWWWWWAAAAAAAAAAAAAAWWWWWZ
VVVVVVVVWLLLLLLLLLLLLJLLLNNWWWWYYYYYYYTTTTTKKKKKHHHDDDDDDBAAAAAAAAEFEEEMMMMMMMMMOOOOOOOOXXXXOKKKKLLLNNNNNNNNNWWWWWWWWWWAAAAAAAAAAAAAWWWWWWZZ
VVVVVVWWWLLLLLLLLLLLLJLLLNWWWWWYYYYYYTTTTTOOOOOKHHHHDDDDKAAAAAAAAZEEEEEMMMMMMMMMMOOOOOOOYXBKKKKKKLLNNNNNNNNNNWWWWWWWWWWAAAAAAAAAAAAWWWWWWWWW
VVAVVVWWWWWWWLLLLLLLLJLLLRWRWWWYYYYYYYTTTFOOOOOOOHHNBBDDAAAAAAAAAEEEEEEERMMMMMMMMOOOOOXOXXXKKKKKKLLLNNNNNNMWWWWWWWWWWWWWWDDDAAAAWWWWWWWWWWWZ
AAADVVWWVWWWWWJJJJJJJJJNRRRRRRYYYYYYYYTTFFTOOOOOONNNBBDAAAAAAAAAAWEEEEEMMMMMMMMMMMOOOOXXXXXKKKKKKNNNNNNNNMMWWWWWWWWWWWWWWWDAAWWWWWWWWWWWWWZZ
AAAAAAAAWWWWWWWWWJJJJJJRRRRRRRRYYYYYYYTTTTTTOOOODBBBBBBBAAAAAAAARWEEEEEMMMMMMMMMMMMXXXXXXXOKKKKKKKKNNNNNNNYWYYWWWWWWWWWCWDDWAWWWWWWWWWWWWWWZ
AAAAAAAAZWWWWWWWJJJJJJJRRRRRRRRRYYYYYYYGGTKKKOOBBBBBBBBBAAAHHAARRRRRRRRMMMMMMMMMMMMXXXXXXXOKKKKKKKKENNNNNNYYYYWWWWWWWWWWWWDWWWWWWWWWWWWWWWZZ
AAAAAAAAWWWWWWWWJJJJRRRRRRRRRRRRYRRRYYYGGGGOOOOBBBBBBBBBBAHAAASRSRRRRRRMMMMMMMMMMMMMXXXXXXXXXKKKKKKKNNYYNYYYYWWWWWWWWWWWWDDWWWWWWWWWWWWWWWWW
AAAAAAIAAWWWWWWWJJJJJRRRRRRRRRRFFRRFGGGGGGGPPPBBBBBBBBBBBHHHHHSRSRKRRRRRRMMMMMMMMMMMMMXXXXXXXKKKKKKKKYYYYSSSSDFWWWWWWWWZRDWWWWWWWWWWWWWZZWWW
AAAAAAAAAAWWWWWWJJJJJRRRRRRRRRRFFRFFGGGGGGGPPPPBBBBBBJBBBHHHHHSSSRRRRRRRRRMMMMMMMMMMXXXXXXXXXXKKKKKKKYYYDSSSSDFFFFRWRWZZRJJWJWWWWWWWWWWWZZZZ
AAAAAAAAAWWWWWWWJJJJJRRRRRRRRFFFFFFFFGGGGGGGGPPBBBBBBBBBBHHHHHSSRRRRRRRRRRRRRMMMMMMMXXXXXXXXKKKKKKKKKSSSSSSSSDFRRRRRRWRRRRJJJWWJWWWWWWWWWZZZ
ZZAAAAAAAWZWWWWWWJJJRRRRRRRRRFFFFFFFFGGGGGPPPPPBBBBBBBBHBHHHHHRRRRRRRRRRRRRRRMMMMMTMXXXXXXXXKKKKKKKYKSSSSSSSSDDDRRRRRRRRRRRRJJJJJWWJJJJWZZZZ
ZZAAAAAAAWZZWWWWWWJJRRRRRRRFFFFFFFFFGGGGGGGGPPPPBBBBBBBHHHHHHHHRRRRRRRRRRRRRRMMMXXXXXXXXXXXXXXKKKKKYYSSSSSSSSDDDDRRRRRRRRRRRRJJJJJJJJJJZZZZZ
ZZZAZZAAZZZZZWWJJJJJRRRRRRFFFFFFFFFFFFGGGGGPPPPBBBBBBBPHHHHHHHHHRRRRRRRRRRRRRRRRXXXXXXXXXXXXXXKKKKYYYSSSSSSSSDDDDEEERRRRRRRRRRJJJJJJJJJZZZZZ
ZZZZZZAAZZZZZWJJJJJJJRJRRRJFFFFFFFFFFGGGGPPPPPPBBBBBBBBHHHHHHHRRRRRRRRRRRRRRRROXXXXXXXXXXXXXXXXXXXXYYYDDDSSSSDDDDEEERRRRRRRRRJJJJJJJJJJZZZZZ
ZZZZZZZAZZZZZWJJJJJJJRRRRRJJJFDFFFFFBGGGWWWPPWPBBBBBHHHHHHHHHHHRRRRRRRRRRRRRRROOXXXXXXXXXXXXXXXXXXYYYYDSSSSSSDDDDEEEERRRRRRLLLLLLJJJJJJZZZZZ
ZZZZZZZZZZZZZWWJJJJJJJJRRRJJJFFFFFFBBGWWWWWWPWWBRBBBBBHHHHHHHHHRRRRRRRRRRRRRRROOXXXXXXXXXXXXXXDDDDDDYYDSSSSSSDDDEEEEERRERRRLLLLLLJJJJJJZZZZZ
ZZZZZZZZZZZZZWPPPPJJJJJJJJJJJJFFGFFFFFWWWWWWWWWRRBBBBBHHHHEEHHHRHHRRRNRNNVRRVVVVVVXXXXXXXXXXXXXDDDDDDFFSSSSSSDDEEEEEEEEERRLLLLLLLLLLLLJZZZZZ
ZZZZDDDZZZZZZWPPPKJJJJJJJJJJJGGGGGFFIIIWWWWWXWWWBBBBBBHHHHEEHHHHHHRRRNNNNVVVVVVVVVYYXXXXXXPOXXXDDDDDDDFSSSSSSDFFFEEEEEEELRLLLLLLLLLLLLZZZZZZ
ZZZDDDZZZZZQQPPPPKJJJJJJJJJJJJJGGGGIIIIWWWWWWWWWBBBBBBQQQEEHHHHHHKKRNNNNJVVVVVVVVYYXXXXXXKPOOODUUUUUUUUSSSSSSFFFEEEEEEEELRLLLLLLLLLLLLJZZZZZ
ZZZZDDZZZZZQPPPPPPJJJJJJJJJJJJGGGGGIIIIWWWWWWWAWJBBBBBQQQEEEUHHKKKNRRNNNNNLVVVVVVYYXXXPPPPPPOODUUUUUUUUSSSSSSFIFEEEEEEEELLLLLLLLLLLLLLZZZZZZ
ZZDDDDRRZPPPAPPPPPPPPPPPJJJJJJGGGGGGGIIWWWWWWWAWWFBBMMEEEEEEEHHKKNNNNNNNNNNVRVVVVVXXWXPPPPPPPOOUUUUUUUUSSSSSSIIEEEEEIEEEILLLLLLLLLLLLLZZZZZZ
ZDDDDDDRPPPPPPPPPPPPPPPPJJJXXJXXGGGGXPPPWWWWWWAAAFFFMMEEEEEEEHDNNNNNNNNNNNWVVVVVVVWXWPPPPPPPPPOUUUUUUUUSSSSSSIIIIIIIIIIIILLLLLLLLLLLLLZZZZZZ
DDDDDDDDBPPPPPPPPPPPPPPPJJJJXXXXXGGGXMPPWWWWWWAAAAFMMMMEEEEEEEENNNNNNNNNNNWWVWVWVWWWWPPPPPPPPOOUUUUUUUUSSSSSSIIIIIIIIIIIILLLLLLLLLLLLLZZZZZZ
DDDDDDDDDPPPPPPPPPPPPPPPJJJJXXXXXXGMMMRPPWWWWAAAAMMMMMMMMEEEEEEXNNNNNNNNNWWWWWWWWWWPPPPPPPPPPPPUUUUUUUUUUUUUUUIIIIIIIIIIILLLLLZZJZZJZZZZZZZZ
DDDDDDDDDYDPPPPPPPPPPPPPJJXXXXXXXXXPMMXWWWWWWAMCAMMMMMMMMEEEEEXXXNNNNNNNGGWWWWWWFWWWPPPPPPPPPPPUUUUUUUUUUUUUUUIIIIIIIIIIIIILLLLZZZZZZZZZZZZZ
DDDDDDDDDDDPPPPPPPPPPPPPJXXXXXXXXXXXKXXWWWWWWWWCMMMMMMMMMEEEEEEXXXNNNNNGGGGWWWFFFFFWPPPPPPPPPPPUUUUUUUUUUUUUUUIIIIIIIIIIIIMMMMMMZZZZZHHZZZZZ
DDDDDDDDDDDPPPPPPPPPPPPPJXXXXXXXXXXXXXXWXWWWWWWCCCMMMMMMMMEEEEEXXXNGGGNGGGGGWWFFFFFFFPPPPPPPPPPUUUUUUUUKFUUUUUIIIIIIIIIMIMMMMMMZZZZZZHHHHHHZ
DDDDDDDDDDTHPCPPPPPPPPXXXXXXXXXXXXXXXXXWXXXXXXXCCCCMMMMHHHEEEEEXXXFGGGGGGGGGGFFFFFFFFPFPPPPPPPIUUUUUUUUKFUUUUUIIIIIIIIIMMMMMMMMMMMZZHHHWHHHH
DDDDDDDDDDDHHHPPPPIPPPXXXXXXXXXXXXXXXXXXXXXXXXXCCCCMMHMHHHHEEEEXFFFGGGGGGGGEEEFFFFFFFFFPPPPPPPIIIUUUUFKKKUUUUUIIIIIJIEIMMMMMMMMMMMMMFHHHHHHH
DDDDDDDDDHHHHHHPIIIIIIXXXXXXXXXXXXXXXXXXXXXCCCCCCCCMMHHHHHHHHHFFFFFFGGGGGGEEEEFFFFFFFFFPPPPPPPPIIUUUUKKKKKKKKIIIMIMMIIMMMMMMMMMMMMMMHHHHHHHM
DDDDDDDDDHHHHHPPPIIIIIXXJJXXXXXXXHXXXXXXXXXCCCCCCCCVAHHHHNNNNNNNNNNFGGGGGXKEEEFFFFFFFFFPPPPBIIIIIUUUUKKKKKKKKMMMMIIMMMMMMMMMMMMMMMMMHHHHHHHH
DDDDDDDDDHHHHHIIIIIIIIXXOOOXXXXXXHHRQXXXXXGCCCCCCCCAAAHHHNNNNNNNNNNNNNNGIKKKEEFFFFFFFFFFFPCIIIIIIUUUUKKKKKKKKKMMMBMMMMMMMMMMMMMMMHHHHHHHHHHH
DDDDDDDDHHHHHHHHHHIIIIIOOOOXXXXXXHRRQXXXXXGCCCCCCCCCAAAAHNNNNNNNNNNNNNNKKKKKKFFJJFFFFFFFFNIIIIIIIUUUUKKKKKKKMMMMBBBBBMMMMMMMMDMMHHHHHHHHHHHH
DZDDDDDHHHHHHHHHHHHIIIIIOOOOXXOOOHRRRRXXXXCCCCCCCCCAAAAAANNNNNNNNNNNNNNKKKKKKKFFJFFFFFFFFNNNIIIIIKKKKKKKKKKKMMMBBBBBBBMMMMDDVDMMHHHHHHHHHHHH
HZDDHDDHHHHHHHHHHIIIIIIIOOOOOOOOOORRRXXXNCCCCGCCCCCAAAAAANNNNNNNNNNNNNNKKKKKKKKKKOOOFFFFNNNNIIIIIIKKKKKKKKKKMMMBBBBBBBMMMMDDDDDDDDDDHHHHHHHH
HHHHHLLHHHHHHHHIHIIIIIIIOOOOOOOOOORMRRXXXCCCCCCCCCAAAAAAANNNNNNNNNNNNNNKKKKKKKKKJOOFFFFFNNNNIIIIIIIKKKKKKKKKMMMBZBBBBMMMMMDDDDDDDDDHHHHHHHDH
BBBHAHHHHHHHHHHIIIIIIIQQOOOOOOOOOOOMRQQQCCCCCCCCCAAAAAAAANNNNNNNNNNFFFKKKKKKKKJJJOFFFFFFFFNCCIIIIKKKKKKKKKMMMMMBBBBBBMMMDDDDDDDDDDDHHHHHHDDD
BBBHHHHHHHHHHHIIIIIIIPIQQOOOOOOOOORRRQQQCCCCCCCCCCCAAAAAANNNNNNNNNNFFJJKJKKKKJJFFFFFFFFFFFNCCCCIIIKKKKKKKKKKMLBBBBBBBBBTDDDDDDDDDDDHHHHHDDDD
BBBBBBHHHHHHHHHIIIIIIIIQQQOOQOQQQQQQQQQQCCCCCCCCCCCCAAAAANNNNNNNNNNJJJJJJKJKKJJJSFFFFFFFFFFFCCIIIKKKKKKKKKKKMLLLLBBBBBBBDDDDDDDDDDDDDDDDDDDD
BBBBBBBBHHIIIHIIIIIIIIIQQQQOQOQQQQQQVQCCCCCCCCCCCCCCAAAAANNNNNNNNNNJJJJJJJJJJJJJFFFFFFFFJFFFCCICIIIIKKUKKKKKLLLLLBBBBBBDDDDDDDDDDDDDDDDDDDDD
BBBBBBNHHNNIIIIIIIIITTQQQQQQQQQQQQVVVCCCCCCCCCCCCCCCAAAAAAAAAARRRRRJJJJJJJJJJJJJFFFFFFFFFFCCCCCCIIIUUUUKKKKLLLLLLLBBBBBZDDDDDDDVVDVDDDDDDDDD
BBBBBNNNNNNNNIIIIIIITTTQQQQQQQQQQVVVVVVVCCCCCCCCCCCXXAAAAAAAARRRRRJJJJJJJJJJJJJJPPFFFFFFWFCCCCCCCCCVVUUUUUUULLLLLLLLBKBDDDDDDDVVVDVVDDDVDDDD
BBBBNNNNNNNNIIIIIIIITTTTHHQQQQQQQQVVVVVVVVVCCCCCCCCCXAAAAAAARRRRRRRRJJJJJJJJJJJJPFFPPFFFCCCCCCCCCCCVVVMMUUULLLLLLLLLLLLDDDDDVVVVVVVVVVVVDDDD
BNNNNNNNNNNIIIIIIIIITTTTTHQQQQQQQVVVVVVVVVVVCVVCCCCKKKAAAAAAAARRKRRRJJJJJJJJJJJJPPFFPFFFCCCCCCCCCCRMMMMMUUUUULLLLLLLLLLLYDDVVVVVVVVVVVVVVVDD
BNNNNNNNNNNENIIIIIITTTTTTHQHQQQQQVVVVVVVVVVVVVVCVVCKKKKKKAAGKKKKKRRJJJJJJJJJJJJJJPPPPFFCCCCCCCCCCCMMMMMMMBMUMMLLLLLLLLYYYDYYVVVVVVVVVVVVVVDD
BNNNNNNNNNNNNIIIIIIIITTTTHHHHYYQQQQVVVVVVVVVVVVVVVCCKKKKKKAKKKKKKRRJJJJJUUJJJJJJJJPPPPFCCCCCCCCCCCMMMMMMMBMMMKLLLLDDDDDDDDYYVVVVVVVVVVVVVDDD
BNBBNNNNNNNNNNIIIIIIIIFTHHHYYYYQQQQVVVVVVVVVVVVVVVCCVVKKKKKKKKKKKRRRUUUJUUUJJJJJPPPPPXTCCCCCCCCCEMMMMMMMMMMMBLLLLLDDDDDDDDYVVVVVVVVVVVVVVVDD
BBBBNNNNNNNNNNIIIIIIIIFFHHHHHHQQQQLLLLLVLVVVVVVVVVVVVKKKKKKKKKKKKRUUUUUUUUUJJJJJJPXXXXTTCCCCCCCCCMMMMMMMMMMMBLLLLLDDDDDDDDYVVVVVVVVVVVVVVVVV
BBBBBNNNNNNNNNIINIIIIIFHHHHHHQQQQQQLLLLLLVVVVVVVVVVKKKKVKKKKKKKKKKJUUUUUUUUJJJJJJPPPXXXTCCCCCCCCCCMMMMMMMMMBBLLLJLDDDDDDDDYSSVVVVVUVVVVVVVVV
BBBNNNNNNNNNNNNNNNIIIFFHJJJJJJJJJJQLLLLLLLVVVVVVVVVVVKKKKKKKKKKKKUUUUUUUUUUUULLLJPLXXXXXAACCCCCCCCMMMMMMMMMBLLLLLLDDDDDDDDSSVVVVVVUVVVVVVVVC
BBBNNNNNNNNNNNNNNRRRFFFHJJJJJJJJJJLLLLLLLLVVVVVVVVVVKKKKKKKKKKKKKUUUUUUUUUUUUULLLLLXXXXXXACCCCCDCCAMMMMMMMMMLLSSLLDDDDDDDDSVVVVVVUUVVUCCUCCC
BBBNNNNNNNNNNNNNRRRRRHHHJJJJJJJJJJLLLLLLLJJVVVVVVVVKKKKKKKKKKKKKKUUUUUUUUUUUUULLLLXXXXXXXAACEEEUUUUUMUUMMMUUULUSSSDDDDDDDDDDVVVVVUUUVUCCUCCC
BBBBYYNNNNNNNNNNRRRRRRHHJJJJJJJJJJLLLLLLLJGTGVVVVVKKKKKKMKKKKKKKUUUUUUUUUUUUUULLLLXXXXXAAARRRREUUUUUUUUUUUUUUUUUSSSSSSSDDDDDVEVVVUUUUUUUUUCC
BBBBBYNNNNNNNNNCFRRCRRHAJJJJJJJJJJLLLLGGGGGGGJKVKKKKMMMMMKKKKKKKUUUUUUUUUUUUUULLLLLXXXXAARRRRUUUUUUUUUUUUUUUUUUUSSSSSSSDDDDDEEVVUUUUUUUUCCCC
BYYYYYYYNNNNNNNCCCCCRRRHJJJJJJJJJJLLLGGGGGGGGGKVKKKKMMMMMMMMKKKKUUUUUUUUUUUUUUUXXXXXXXXRRRRRRRUUUUUUUUUUUUUUUUSSSSSSSSSDDDDDEEVIUUUUUUUUUUCC
BYYYYYYYYYYNNNNCCCCCCRRRJJJJJJJJJJLLLWGWGGGGGKKKKMMKKMMMMMMMMKKKUUUUUUUUQUUUUUUXXXXXXXXXXRRRRRUUUUUUUUUUUEEUUUSSSSSSSSSSSSSSSEUUUUUUUUUUUUUC
BYYYYYYYYYXONNNCCCCCCCRRJJJJJJJJJJLWWWWWGGGGKKKKKMMKMMMMMMMMMMKKUUUUUUUQQQQUUXXXXXXXXXXRRRRRRRRRRUUUUUUUUEEUEUSSSSSSSSSSSSMMMUUUUUUUUUUUUUUU
YYYYYYYYOOOONNCCCCCCCDDDDDGJJJJJJJLWWWWGGCCCKKKKKKMMMMMMMMMMMKKKKSUUUXEEEEEENXEXXXXXXXXRRRRRRRRRUUUUUUUEUUEEEEESSESESSSMMMMMMMMUUUUUUUUUUUUG
YYYYYYYYOOOOOCCCCCCCCDDDCCGJJJJJJJWWWWWWWWCCCKKKKMMMMMMMMMMMMKKKKSSUXXEEEEENNEEEEXXXXXRRRRRRRRRRUUUEEEEEEEEEEEEESEEEEMMMMMMMMMMUUUUUUUUUUUUG
GYYYYYYXOOOOOOCCCCCCCCDDCCGGGGGGGGWWWWWWWWWCCKKFKMMMMMMMMMMMMMKKKKSSEEEEEEEEEYEEXXXXXRRRRRRRRRRRUUEEEEEEEEEEEEEEEEEEMMMMMMMMMMMUUUUUUUUUUUGG
GYYYOTYOOOOOOSOCCCCCCCCCCCGGGGGGGWWWWWWWWWCCZZZFFMDMMDDDDMMWWKKKRLLEEEEEEEEEEEEEXXXXXXXXRRRRRRJJUJJJJEEEEEEEEEEEEEEEMMMMMMMMMFUUUUUUUUUUUUGG
GGGOOOOOOOOOOOOOCCCCCCCCCCCCGGGGGGWWWWWWWCCCZZZFDADDMMDDDMWWLLKKKLLEEEEEEEEEEEEEEEXXXXRRRRRRRRRJJJJJJEEEEEEEEEEEEEEMMMMMMMMMMFGGGGGUGUUUJJJG
GGGGOOOOOOOOOOOOCCCCCCCCGGGGGGGGGGWWWWWEZZZZZZZFDDDMMDDDDDDLLLKKLLLEEEEEEEEEEEEEEEEXXRRXRRRRRRRRRJJJJJJEEEEEEEEEEEEEEMMFFFFFFFGGGGGGGUGGJJGG
GGGOOOOOOOOOOOCCCCCCCCCCCGGGGGZGGZWWWWWEZZZZZZZDDDDDDDDDDDULLLLKLLLLEEEEEEEEEEEMEXEXXXXXRLRRRRRRRJJJEJENNEEEEEEEEEEEEMMFFFFFFFFGGGGGGGGGJGGG
GGGGOOOOOOOOOOOCCCCCCCCCGGGGGGZZZZZWWWWWZZZZZZZZDDDDDDDDDDUULLLLLLLEEEEEEEEEEEEEXXEXXXXXXXRRRRRMEEEJEEENEEEEEEEEEEEEEMMFFFFFFAAGGGGGGGGGGGGG
GOGGOOOOOOOOOOOOCCCCCCCCGGGGGGGGZZZWWWWEZZZZZZZDDKDKDDDDDDLLLLLLLLEVEEEEEEEEEEEEXXXXXXGGXGGYGRMMEEEEEEEEEEPEEEEEEEEELFFFFFFFFFAGGGGGGGGGGGGG
OOOOOOOOOOOOOOOOCCCCCCTCGGGGGGGZZZZWWWZZZZZZZZZZDKKKDDDEEEELLLLLLLEEEEEEEEEEERRXXXXXXXXGGGGGGBEEEEEEEEEEEEEEEEEEYEEEEEFFFFFFFYGGGGGGGGGGGGGG
QQOOOOOOOOOOOOOTTTCTTCTCTGGGGGZZZZZZWWZZZZZZZZZZKKVVVHDCEEKLLLLLCCCECECEEEEEERUUNMMMMMGGGGGXEEEEEEEEEEEEEEEEEEEEYEFFFFFFFFFFGGGGGGGGGGGGGGGG
QKOOOOOOOOOOTOTTTTTTTTTTTGGGGGZZZZZZZZZZZZZZZZZZZVVVVVVCEEEEEEEECCCECCCCEEEEEUUUNNMMMMMMGGGXXEEEEEEEEEEEEEEEUEEEEEFFFFFFFFFFFGGGGGGGGVGGGGGG
QKKOOOOOOOTTTTTTTTTTTTTTTTTTTWWZZZZZZZZZZZZZZZZZMVVVVVVVVEEEEECEUCCCCCCCEUNEUUUUUUMMMMMGGGXXXLLEEEEEEEEEEEEEEMMZZZFZFFFFFFFFFGGGGGGGGGGLGGGG
QKKKKKKKKTTKTTTTTTTTTTTTTTTTPWZZZZZZZZZZZZZZZPZHVVVVVVVVVEEEEVCCCCCCCCCCEUUUUUUUUMMMMMMGXXXXLLLEEEEEEEEEEEEEMMZZZZZZFFFFFFFFFGGGGGGGGGGGGGGG
KKKKKKKKKKTTTTTWWTWTTWWTTTTTTWZZZZZZZZZZZZVPQPHPPVVVEVVVEEEEEEEECCCCCCCCCCUUUUUUUFFFMMMWMXLLLLLLLLEEEEEEEEEMMZZZZZZZFFFFFFFFFGGNGGGGGGGGGGGG
KKKKKKKKKKTTTTTWWWWWWWWWTTTTWWZZZZZZZZZPPPPPPPPPPEVVEVEEEEEEEECCCCCCCCCCCCUMUUUUUUMMMMMMMLLLLLLLLLLEEEEEEEMMMMZBZZZZZZFFFFFFFFFGGGGGGGGGGGGG
KKKKKKKKKKTTTTTWWWWWWWWWWWWWWWWZZZZZZZZPPPPPPPPPPEEEEEEEEEEEEECCCCCCCCCCCCUMMUUUUUMMMMMLLLLLLLLLLLLLEEEEEEEEMMZZZZZZZZZFFFFFFFFFGGGGGGGGGGGG
VKKKKKKKKKTTWWWWWWWWWWWWWWWWWWWWZZZZZZZPPPPPPPPPPEEEEEEEEEEEECCCCCCCCCCCCCMMMMUMUUFFMMMLLLLLLLLLLLLLEEEEEEMMMZZZZZZZZZZFFFFFFFFFGGGGGGGGGGGG
KKKKKKWWWTTWWWWWWWWWWWWWWWWWWWWWZZWWWZZPPPPPPPPPEEEEEEEEEEEEEECCCCCCCCCCCCCMMMMMOFFFMLLLLLLLLLLLLLLAEEEEEEMMMMZZZZZZZZFFFLLLFFFFGGGGGGGGGGGI
KKKKKKKWWWWWWWWWWWWWWWWXWWWWWWWWWWWWWWPPPPPPPPPPEEEEEEEEEEEEEEEECCCCCCCCCCCCCMMMOFFFMLJLLLLLLLLLLLLAAAVMEEEMMMMZZZZZZZZFFLLLFFFFFFGGGGGGGIGI
KKKKKKWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWPPPPPPPPEEEEEEEEEEEEEEEEEECCCCCCCCCCOOMOOOFOOMJJLLLLLLLLLLLLLAVVVVMMMMMZZZZZZZZFFELLLLFFFFFFGGGIGIIII
KKKKKWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWPWPPPPPEEEEEEEEEEEEEEEEEEECCCCCCCFCCOOOOOOOOOOJJLLLLLLLLLVVLLAVVVVMMMMMZZZZZZZZZFELLLLFFFFFIIGGIIIIII
KKKKWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWPDDPEEEEEEEEEEEEEEEEEEEECCCCCCFCXOOOOOOOOOJJJJLLVLLVVLVLLLVVVVVMMMMMMMMZZZZZZZEELLLFFFFIIIIIIIIIII
KKKWWWWWWWWWWWWWWWWWWWXWWWWWWWWWWWWWWWWWWWWWWWWEEEEEEEEEEEEEEEEEEECCCCCCCNOOOOOOOOOOJJJJJLVVVVVVVVVVVVVVVMMMMMMMMMMZZZZEEEEELFFIIIIIIIIIIIII`


let matrix = s.split('\n').map(line => line.split(''));

const all: Coordinate[][] = [];
const coordinateValues: CoordinateValue[] = [];

forEach(matrix, (e, c) => {

    if (e === 'C') {
        console.log();
    }

    if (all.some(s => s.some(c1 => sameCoordinate(c1, c)))) {
        return;
    }
    let items = bla(c, e, []);
    if (items.length !== 0) {
        all.push(items);
    }
});

function bla(c: Coordinate, element: string, coordinateValues: Coordinate[]) {

    if (coordinateValues.some(c1 => sameCoordinate(c1, c))) {
        return coordinateValues;
    }

    let coo = {e: element, ...c, fuucounter: 0, fences: []};
    coordinateValues.push(coo);
    for (const allDirection of allDirections) {
        let neighborCoordinate = getCordinate(c.x, c.y, allDirection);
        let neighborElem = (matrix[neighborCoordinate.y] ?? [])[neighborCoordinate.x];
        if (neighborElem === element) {
            bla(neighborCoordinate, neighborElem, coordinateValues)
        } else {
            coo.fuucounter += 1;
            coo.fences.push({direction: allDirection, ...neighborCoordinate});
        }
    }
    return coordinateValues;
}


let x = 0;
let x2345 = 0;
for (const allElement of all) {


    let flatMap = allElement.flatMap(x => x.fences);


    let fenceSides = 0;

    let multiMap = new MultiMap();
    for (const flatMapElement of flatMap) {
        multiMap.add(flatMapElement.direction, flatMapElement)
    }

    multiMap.m.forEach((v, k) => {
        if (k === 'up' || k === 'down') {
            let e = groupBy(v, dd => dd.y);
            for (const eElement of Object.values(e)) {
                let e2 = eElement.map(s => s.x).sort();
                fenceSides += seq(e2).length;
            }
        }
        if (k === 'left' || k === 'right') {
            let e = groupBy(v, dd => dd.x);
            for (const eElement of Object.values(e)) {
                let e1 = eElement.map(s => s.y).sort();
                fenceSides += seq(e1).length;
            }
        }
    })


    let x1 = fenceSides * allElement.length;
    console.log(`(${allElement[0].e}) ${allElement.length} * ${fenceSides} = ${x1}`);
    x += x1
}
console.log(x)
console.log(x2345)

//854181 is wrong

function seq(e, t, n, r) {
    t = [];
    n = [];
    for (r = 0; r < e.length; ++r) {
        if (!r) {
            n.push(e[r]);
            continue
        }
        if (e[r - 1] != e[r] - 1) {
            t.push(n);
            n = []
        }
        n.push(e[r])
    }
    t.push(n);
    return t
}

export function groupBy<T, K>(xs: T[], f: (t: T) => K) {
    return xs.reduce((rv, x) => {
        (rv[f(x)] = rv[[f(x)]] || []).push(x);
        return rv;
    }, {});
};
